fn a() {
    t = 1
    while t <= 10 {
        yield(t * 2)
        t += 1
    }
}

l = {}
for i in a {
    l[i] = i
}

assert(l == {2: 2, 4: 4, 6: 6, 8: 8, 10: 10, 12: 12, 14: 14, 16: 16, 18: 18, 20: 20})


fn foo(iter) {
    for i in iter {
        if i == 10 {
            return 0
        }
    }
}

assert(foo(a) == 0)
